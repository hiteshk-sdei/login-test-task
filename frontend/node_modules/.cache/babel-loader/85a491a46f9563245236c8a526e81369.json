{"ast":null,"code":"var _localStorage$getItem;\nimport { AUTH_ERROR, LOGIN_SUCCESS, REGISTER_SUCCESS, LOGOUT_SUCCESS } from \"../actionType\";\nconst initialState = {\n  data: [],\n  isAuth: (_localStorage$getItem = localStorage.getItem('token')) !== null && _localStorage$getItem !== void 0 ? _localStorage$getItem : false\n};\nconst authReducer = function () {\n  var _action$payload, _action$payload$data;\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case LOGIN_SUCCESS:\n      let token = action.payload.data.token;\n      localStorage.setItem(\"token\", token);\n      return {\n        ...state,\n        error: null,\n        isAuth: token,\n        login: action.payload\n      };\n    case REGISTER_SUCCESS:\n      debugger;\n      return {\n        ...state,\n        error: null,\n        register: action.payload\n      };\n    case LOGOUT_SUCCESS:\n      localStorage.clear();\n      return {\n        isAuth: null\n      };\n    case AUTH_ERROR:\n      return {\n        ...state,\n        error: (_action$payload = action.payload) === null || _action$payload === void 0 ? void 0 : (_action$payload$data = _action$payload.data) === null || _action$payload$data === void 0 ? void 0 : _action$payload$data.message\n      };\n    default:\n      return state;\n  }\n};\nexport default authReducer;","map":{"version":3,"names":["AUTH_ERROR","LOGIN_SUCCESS","REGISTER_SUCCESS","LOGOUT_SUCCESS","initialState","data","isAuth","localStorage","getItem","authReducer","state","action","type","token","payload","setItem","error","login","register","clear","message"],"sources":["/home/desktop-47/Desktop/LoginTest/frountend/src/Redux/Reducer/authReducer.js"],"sourcesContent":["import { AUTH_ERROR, LOGIN_SUCCESS , REGISTER_SUCCESS ,LOGOUT_SUCCESS } from \"../actionType\"\n\nconst initialState = {\n    data :[],\n    isAuth: localStorage.getItem('token') ?? false\n}\n\n\nconst authReducer = (state=initialState,action) =>{\n    switch(action.type){\n        case LOGIN_SUCCESS :\n            let token = action.payload.data.token;\n            localStorage.setItem(\"token\",token);\n        return{\n            ...state,\n            error: null,\n            isAuth: token,\n            login:action.payload\n        }\n        case REGISTER_SUCCESS :\n            debugger\n        return{\n            ...state,\n            error: null,\n            register:action.payload\n        }\n        case LOGOUT_SUCCESS :\n            localStorage.clear()\n        return{\n            isAuth: null,\n        }\n        case AUTH_ERROR :\n            return{\n                ...state,\n                error : action.payload?.data?.message\n            }\n        default:\n            return state\n    }\n}\n\nexport default authReducer;"],"mappings":";AAAA,SAASA,UAAU,EAAEC,aAAa,EAAGC,gBAAgB,EAAEC,cAAc,QAAQ,eAAe;AAE5F,MAAMC,YAAY,GAAG;EACjBC,IAAI,EAAE,EAAE;EACRC,MAAM,2BAAEC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,yEAAI;AAC7C,CAAC;AAGD,MAAMC,WAAW,GAAG,YAA8B;EAAA;EAAA,IAA7BC,KAAK,uEAACN,YAAY;EAAA,IAACO,MAAM;EAC1C,QAAOA,MAAM,CAACC,IAAI;IACd,KAAKX,aAAa;MACd,IAAIY,KAAK,GAAGF,MAAM,CAACG,OAAO,CAACT,IAAI,CAACQ,KAAK;MACrCN,YAAY,CAACQ,OAAO,CAAC,OAAO,EAACF,KAAK,CAAC;MACvC,OAAM;QACF,GAAGH,KAAK;QACRM,KAAK,EAAE,IAAI;QACXV,MAAM,EAAEO,KAAK;QACbI,KAAK,EAACN,MAAM,CAACG;MACjB,CAAC;IACD,KAAKZ,gBAAgB;MACjB;MACJ,OAAM;QACF,GAAGQ,KAAK;QACRM,KAAK,EAAE,IAAI;QACXE,QAAQ,EAACP,MAAM,CAACG;MACpB,CAAC;IACD,KAAKX,cAAc;MACfI,YAAY,CAACY,KAAK,EAAE;MACxB,OAAM;QACFb,MAAM,EAAE;MACZ,CAAC;IACD,KAAKN,UAAU;MACX,OAAM;QACF,GAAGU,KAAK;QACRM,KAAK,qBAAGL,MAAM,CAACG,OAAO,4EAAd,gBAAgBT,IAAI,yDAApB,qBAAsBe;MAClC,CAAC;IACL;MACI,OAAOV,KAAK;EAAA;AAExB,CAAC;AAED,eAAeD,WAAW"},"metadata":{},"sourceType":"module"}